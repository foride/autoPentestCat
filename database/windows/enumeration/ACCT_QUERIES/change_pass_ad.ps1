# Change selected user password in AD twice.

$user = Read-Host "Enter the username"
$newPass = Read-Host "Enter the new password"


try {
    # Change the password using a junk password
    Set-ADAccountPassword -Identity $user -Reset -NewPassword (ConvertTo-SecureString -AsPlainText "6;wB3yj9cI8X" -Force) -Verbose
} catch {
    Write-Host "An error occurred while setting the junk password: $_"
}

try {
    # Change the password using the real new password
    Set-ADAccountPassword -Identity $user -Reset -NewPassword (ConvertTo-SecureString -AsPlainText "$newPass" -Force) -Verbose
} catch {
    Write-Host "An error occurred while setting the real new password: $_"
}